process PWRITE = {
    
    #########################
    # message logger
    #########################
    
    service = MessageLogger {
	untracked vstring destinations = { "log/destinationFile" }
	untracked PSet destinationFile = { untracked string threshold = "INFO"} 
    }
    
    
    #########################
    # maxEvents ...
    #########################
    
    untracked PSet maxEvents = {untracked int32 input = 1}
    source = EmptySource { string timetype = "runnumber"
                           untracked uint32 firstRun = theRunNr
                           untracked uint32 lastRun  = theRunNr
                           uint32 interval = 1}
    
    #########################
    # DQM services
    #########################
    include "DQMServices/Core/data/DQM.cfg"
    
    
    ########################
    # DB parameters
    ########################
    
    service = PoolDBOutputService{
	string connect = "connectString"    
	#
	untracked string timetype = "runnumber"    
	untracked string BlobStreamerName="DefaultBlobStreamingService"
	#
	PSet DBParameters = {
	    untracked string authenticationPath="/afs/cern.ch/cms/DB/conddb"
	    untracked int32 messageLevel=4
	}
	VPSet toPut={ 
	    { string record = "SiStripSummaryRcd" string tag="insertTag"}
	}
    }
    
    
    ########################
    # module
    ########################
    
    module prod =  ReadFromFile {  
	
	untracked string ROOTFILE_DIR = 'theDirName/'
	untracked string FILE_NAME    = 'theFileName'
	untracked string ME_DIR       = 'Run theRunNr'
	
	
	VPSet list = {	    	    
	    {
		untracked string RecordName = "SiStripSummaryRcd"
		VPSet histoList = {
		    { untracked string Name = "Chi2_CosmicTk"  untracked vstring quantitiesToExtract = {'mean','rms','entries'} }
		    ,
		    { untracked string Name = "NumberOfTracks"  untracked vstring quantitiesToExtract = {'mean','rms','entries'} }
		    ,
		    { untracked string Name = "Summary_NumberOfClusters_OffTrack"  untracked vstring quantitiesToExtract = {'mean','rms','entries'} }
		    ,
		    { untracked string Name = "Summary_NumberOfClusters_OnTrack"  untracked vstring quantitiesToExtract = {'mean','rms','entries'} }
		    ,
		    { untracked string Name = "NumberOfClusters"  untracked vstring quantitiesToExtract = {'mean','rms','entries'} }
		    ,
		    { untracked string Name = "ClusterCharge"  untracked vstring quantitiesToExtract = {'mean','rms','entries'} }
		   #,
		   #{ untracked string Name = "ClusterCharge"  untracked vstring quantitiesToExtract = {'mean','rms','entries','landau'} }
		
		
		}
	    }
	}
	
    }

    # Schedule
    path p = { prod }
    module print = AsciiOutputModule {}
    endpath ep = { print }
}
