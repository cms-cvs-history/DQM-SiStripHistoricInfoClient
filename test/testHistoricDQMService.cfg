process PWRITE = {
    
    #########################
    # message logger
    #########################
    
    service = MessageLogger {
	untracked vstring destinations = { "cout" }
	untracked PSet readFromFile_57620.log = { untracked string threshold = "DEBUG"} 
	untracked vstring debugModules   = { "*" }
    }
    
    
    #########################
    # maxEvents ...
    #########################
    
    untracked PSet maxEvents = {untracked int32 input = 1}
    source = EmptySource { 
	string timetype = "runnumber"
	untracked uint32 firstRun = 1
	untracked uint32 lastRun  = 1
	uint32 interval = 1
    }
    
    #########################
    # DQM services
    #########################
    include "DQMServices/Core/data/DQM.cfg"
    
    
    ########################
    # DB parameters
    ########################
    
    service = PoolDBOutputService{
	string connect = "sqlite_file:historicDQM.db"    
	#
	untracked string timetype = "runnumber"    
	#untracked string BlobStreamerName="DefaultBlobStreamingService"
	#untracked string BlobStreamerName="TBufferBlobStreamingService"
	#
	PSet DBParameters = {
	    untracked string authenticationPath="/afs/cern.ch/cms/DB/conddb"
	    untracked int32 messageLevel=4
	}
	VPSet toPut={ 
	    { string record = "SiStripSummaryRcd" string tag="SiStripSummary_test1"}
	}
	untracked string logconnect = "sqlite_file:log.db"	
    }
    
    ########################
    # POPCON Application
    ########################
    
    module siStripPopConHistoricDQM = SiStripPopConHistoricDQM {
	string record = "SiStripSummaryRcd"
	untracked bool loggingOn = True
	bool SinceAppendMode = true
	PSet Source ={
	    untracked uint32 since = 57620
	    untracked bool debug = false
	}
	
    }    

    ########################
    # HistoricDQMService
    ########################
    
    service = SiStripHistoricDQMService {  

	uint32 RunNb = 57620
	bool accessDQMFile = true
	#untracked string FILE_NAME = '/afs/cern.ch/user/g/giordano/scratch0/CMSSW/Development/CondDBObjects/HistoricDQM/CMSSW_3_0_X_2008-08-11-1600/src/DQM/SiStripHistoricInfoClient/test/DQM_SiStrip_R000057620_CAF-standAlone.root'
	untracked string FILE_NAME = '/home/cmstacuser/HistoricDQM/DQM_R000057620__Cosmics__Commissioning08-CRUZET4_v1__RECO.root'
	
	untracked string ME_DIR       = 'Run 57620'

	
	VPSet histoList = {
	    //quantities are 'stat', 'landau', 'gauss'
	    //where 
	    //'stat' includes entries, mean, rms
	    //'landau' includes
	    //'gauss' includes gaussMean, gaussSigma
	   
	   
	    //CosmicTk 
	   
	   #{ untracked string keyName = "Chi2_CosmicTk"  untracked vstring quantitiesToExtract = {'stat'} }
	   #,
	   { untracked string keyName = "NumberOfTracks_CosmicTk"  untracked vstring quantitiesToExtract = {'stat'} }
	   ,
	   #{ untracked string keyName = "NumberOfRecHitsPerTrack_CosmicTk"  untracked vstring quantitiesToExtract = {'stat'} }
	    
	    //CKFTk
	   # ,
	   # { untracked string keyName = "Chi2_CKFTk"  untracked vstring quantitiesToExtract = {'stat'} }
	   # ,
	   # { untracked string keyName = "NumberOfTracks_CKFTk"  untracked vstring quantitiesToExtract = {'stat'} }
	   # ,
	   # { untracked string keyName = "NumberOfRecHitsPerTrack_CKFTk"  untracked vstring quantitiesToExtract = {'stat'} }
	   # 
	     //RSTk
	   # ,
	   # { untracked string keyName = "Chi2_RSTk"  untracked vstring quantitiesToExtract = {'stat'} }
	   # ,
	   # { untracked string keyName = "NumberOfTracks_RSTk"  untracked vstring quantitiesToExtract = {'stat'} }
	   # ,
	   # { untracked string keyName = "NumberOfRecHitsPerTrack_RSTk"  untracked vstring quantitiesToExtract = {'stat'} }
	   # ,
	   # 
	    
	   # //Summary Cluster Properties
	   # { untracked string keyName = "Summary_TotalNumberOfClusters_OffTrack"  untracked vstring quantitiesToExtract = {'stat'} }
	   # ,
	   # { untracked string keyName = "Summary_TotalNumberOfClusters_OnTrack"  untracked vstring quantitiesToExtract = {'stat'} }
	   # ,
	    { untracked string keyName = "Summary_ClusterChargeCorr_OnTrack"  untracked vstring quantitiesToExtract = {'stat','landau'} }
	   # ,
	   #  { untracked string keyName = "Summary_ClusterCharge_OffTrack"  untracked vstring quantitiesToExtract = {'stat','landau'} }
	    ,
	    { untracked string keyName = "Summary_ClusterNoise_OnTrack"  untracked vstring quantitiesToExtract = {'stat','gauss'} }
	   # ,
	   # { untracked string keyName = "Summary_ClusterNoise_OffTrack"  untracked vstring quantitiesToExtract = {'stat','gauss'} }
	   # ,
	   # { untracked string keyName = "Summary_ClusterStoNCorr_OnTrack"  untracked vstring quantitiesToExtract = {'stat','landau'} }
	   # ,
	   # { untracked string keyName = "Summary_ClusterStoN_OffTrack"  untracked vstring quantitiesToExtract = {'stat','landau'} }
	   # ,
	   # { untracked string keyName = "Summary_ClusterWidth_OnTrack"  untracked vstring quantitiesToExtract = {'stat'} }
	   # ,
	   # { untracked string keyName = "Summary_ClusterWidth_OffTrack"  untracked vstring quantitiesToExtract = {'stat'} }
	    
	    
	    
	   // Summary Cluster properties @ layer level
	   
	   # ,
	   # { untracked string keyName = "Summary_TotalNumberOfClusters__OffTrack"  untracked vstring quantitiesToExtract = {'stat'} }
	   # ,
	   # { untracked string keyName = "Summary_TotalNumberOfClusters__OnTrack"  untracked vstring quantitiesToExtract = {'stat'} }
	   # ,
	   # { untracked string keyName = "Summary_ClusterChargeCorr__OnTrack"  untracked vstring quantitiesToExtract = {'stat','landau'} }
	   # ,
	   # { untracked string keyName = "Summary_ClusterCharge__OffTrack"  untracked vstring quantitiesToExtract = {'stat','landau'} }
	   # ,
	   # { untracked string keyName = "Summary_ClusterNoise__OnTrack"  untracked vstring quantitiesToExtract = {'stat','gauss'} }
	   # ,
	   # { untracked string keyName = "Summary_ClusterNoise__OffTrack"  untracked vstring quantitiesToExtract = {'stat','gauss'} }
	   # ,
	   # { untracked string keyName = "Summary_ClusterStoNCorr__OnTrack"  untracked vstring quantitiesToExtract = {'stat','landau'} }
	   # ,
	   # { untracked string keyName = "Summary_ClusterStoN__OffTrack"  untracked vstring quantitiesToExtract = {'stat','landau'} }
	   # ,
	   # { untracked string keyName = "Summary_ClusterWidth__OnTrack"  untracked vstring quantitiesToExtract = {'stat'} }
	   # ,
	   # { untracked string keyName = "Summary_ClusterWidth__OffTrack"  untracked vstring quantitiesToExtract = {'stat'} }
	
	   
	    
	   //Single module based quantities
	   //,
	   //{ untracked string keyName = "NumberOfClusters"  untracked vstring quantitiesToExtract = {'stat'} }
	   //,
	   //{ untracked string keyName = "ClusterCharge"  untracked vstring quantitiesToExtract = {'stat'} }
	    
	}
    
	
    }


    # Schedule
    path p = { siStripPopConHistoricDQM }
    module print = AsciiOutputModule {}
    endpath ep = { print }
}
