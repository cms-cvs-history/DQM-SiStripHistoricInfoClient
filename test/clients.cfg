process HOFFLINECLIENT = {
  #keep the logging output to a nice level
  include "FWCore/MessageLogger/data/MessageLogger.cfi"

  service = AdaptorConfig {}
  include "DQMServices/Core/data/DQM.cfg"

//  service = LockService {
//    untracked vstring labels = { "source" }
//  }

  service = PoolDBOutputService{
    string connect = "sqlite_file:historic.db"    
    string timetype = "runnumber"    
#    untracked string BlobStreamerName="DefaultBlobStreamingService"    

    PSet DBParameters = {
      #untracked string authenticationPath="/afs/cern.ch/cms/DB/conddb"
      untracked int32 messageLevel=2
    }
    VPSet toPut={ { string record = "SiStripClusterChargesRcd"   string tag ="SiStripClusterChargesRcd_v1"} }    
  }
    
  # the DQM Clients source
  source = DQMEventSource{
    untracked int32 maxEvents = -1
    untracked string meSubscriptionList = "MESubscriptionList.xml"
    untracked string qtList = "QualityTests.xml"
    untracked bool getQualityTestsFromFile = false
    untracked int32 numberOfUpdatesToBeSkipped = 1
    untracked string server = "lxplus205.cern.ch"
    untracked int32 port = 9090
    untracked string name = "HistoricOfflineClient"
    untracked int32 reconnect_delay_secs = 2
    untracked bool actAsServer = false
  }

  # the client
  module historicOfflineClient = HistoricOfflineClient{
    untracked bool debug = true
    untracked string outputFile = "hclient.root"
    untracked bool writeHisto = false	
  }

  path p1 = {historicOfflineClient}
}
