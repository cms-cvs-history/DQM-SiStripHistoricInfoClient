process PREAD = {
  include "FWCore/MessageLogger/data/MessageLogger.cfi"
    
/*
    source = EmptySource {
# run=6306 run=6354 run=6478
	untracked int32 maxEvents = 1
	untracked uint32 firstRun = 6354
	untracked uint32 numberEventsInRun = 1
    }
*/

   source = EmptyIOVSource {
       string timetype = "runnumber"
       untracked uint32 firstRun = 6306
       untracked uint32 lastRun = 6478
       uint32 interval = 1
   }
    
    # service = Timing {}

  es_source s1 = PoolDBESSource {
    VPSet toGet = {
#      { string record = "SiStripPedestalsRcd" string tag = "SiStripPedNoise_TIBTOB_v1_p"},
#      { string record = "SiStripNoisesRcd" string tag = "SiStripPedNoise_TIBTOB_v1_n"},
      { string record = "SiStripFedCablingRcd" string tag = "SiStripCabling_TIBTOB_v1"}
    }

    untracked bool siteLocalConfig = true
    string connect = "frontier://cms_conditions_data/CMS_COND_STRIP"
    string timetype = "runnumber"
    PSet DBParameters ={
      untracked string authenticationPath = "/afs/cern.ch/cms/DB/conddb"
      untracked bool loadBlobStreamer = true
    }
  }

  es_module sistripconn = SiStripConnectivity {}
    
  es_source s2 = PoolDBESSource { 
      VPSet toGet = {{ string record = "SiStripPerformanceSummaryRcd"  string tag = "SiStripPerformanceSummaryRcd_v1" }}
      string connect = "sqlite_file:historic.db"    
      untracked string catalog = "file:historic.xml"
      string timetype = "runnumber" 
      PSet DBParameters = {
        untracked string authenticationPath="/afs/cern.ch/cms/DB/conddb"
        untracked int32 messageLevel=2
#blob       untracked bool loadBlobStreamer = true
      }
    }
    
#    module prod =  SiStripPerformanceSummaryReader { }
    module prod =  SiStripHistoricPlot { }

    path p = { prod }
    module print = AsciiOutputModule {}
    endpath ep = { print }
}
