process TIFDQMSources = {

     service = MessageLogger {
      untracked vstring destinations = { "cout" }
      untracked PSet cout = { untracked string threshold = "ERROR" }
      untracked vstring debugModules   = { "*"}
   }
 

    #-------------------------------------------------
    ## MAGNETIC FIELD
    #-------------------------------------------------
  
    include "MagneticField/Engine/data/uniformMagneticField.cfi"
    replace UniformMagneticFieldESProducer.ZFieldInTesla = 0.0
    es_prefer = UniformMagneticFieldESProducer{}


    #-------------------------------------------------
    ## GEOMETRY
    #-------------------------------------------------
    
    # tracker geometry
    include "Geometry/TrackerGeometryBuilder/data/trackerGeometry.cfi"
    
    # tracker numbering
    include "Geometry/TrackerNumberingBuilder/data/trackerNumberingGeometry.cfi"
    
    # cms geometry
    include "Geometry/CMSCommonData/data/cmsIdealGeometryXML.cfi"
    
    
    #-------------------------------------------------
    ## CALIBRATION
    #-------------------------------------------------
    
    include "CalibTracker/Configuration/data/Tracker_FakeConditions.cff"
    
    
    #-----------------------
    ####  Reconstruction Modules
    #-----------------------
    
    include "DQM/SiStripMonitorClient/data/RecoForDQM.cff"
   
  
    #--------------------------
    #### DQM
    #--------------------------
   
    include "DQM/SiStripMonitorClient/data/SiStripDQMOffline.cff"
  

    #-----------------------
    ####  Source
    #-----------------------
  
    service = AdaptorConfig {}
    
    untracked PSet maxEvents = {untracked int32 input = 100}
   
    source = PoolSource { 
	 untracked vstring fileNames = {'/store/relval/2008/3/12/RelVal-RelValMinbias-1205351746/0000/242B489E-91F0-DC11-874B-000423D9A212.root'}}

       
    #-----------------------
    ####  historic DQM
    #-----------------------
  
    module historicOfflineClient = HistoricOfflineClient {
    untracked string outputFile = "hclient.root"
    untracked bool writeHisto = false 
    VPSet list = {	    	    
	    {
		untracked string RecordName = "SiStripSummaryRcd"
		VPSet histoList = {
		    { untracked string Name = "Chi2_CosmicTk"  untracked vstring quantitiesToExtract = {'mean','rms','entries'} }
		    ,
		    { untracked string Name = "NumberOfTracks"  untracked vstring quantitiesToExtract = {'mean','rms','entries'} }
		    ,
		    { untracked string Name = "Summary_NumberOfClusters_OffTrack"  untracked vstring quantitiesToExtract = {'mean','rms','entries'} }
		    ,
		    { untracked string Name = "Summary_NumberOfClusters_OnTrack"  untracked vstring quantitiesToExtract = {'mean','rms','entries'} }
		    ,
		    { untracked string Name = "NumberOfClusters"  untracked vstring quantitiesToExtract = {'mean','rms','entries'} }
		    ,
		    { untracked string Name = "ClusterCharge"  untracked vstring quantitiesToExtract = {'mean','rms','entries'} }
		}
	    }
	}
    }

  
    service = PoolDBOutputService{
    string connect = "sqlite_file:historicDQM.db"    
    untracked string timetype = "runnumber"    
    #blob      untracked string BlobStreamerName="DefaultBlobStreamingService"
    PSet DBParameters = {
   	untracked string authenticationPath="/afs/cern.ch/cms/DB/conddb"
   	untracked int32 messageLevel=2
    }
    VPSet toPut={ { string record = "SiStripSummaryRcd" string tag="testA"} } }
        
 
     
    #----------------------------
    #### Scheduling
    #-----------------------------
    
    path p = {RecoModulesForSimData, SiStripDQMOffSimData, historicOfflineClient} 
     

   
}
