#[plot:meanBadChannels]
##meteric to use (from e.g metrics/basic.py)
#metric = basic.Mean()
##make this a list
##path in DQM
#relativePath = /SiStrip/ReadoutView/FedMonitoringSummary/BadActiveChannelStatusBits
#runOffset = 132000
##min number of entries in hist
#threshold = 10
##relSystematics: relative systematic error
##absSystematics: absolute systematic error
#absSystematic = 1
#yTitle = Bad Channels

#--- not so important

#[plot:meanNumberOfTrack]
#metric = basic.Mean()
##make this a list
#relativePath = Tracking/TrackParameters/GeneralProperties/NumberOfGoodTracks_GenTk_bla,Tracking/TrackParameters/GeneralProperties/NumberOfGoodTracks_GenTk
#runOffset = 132000
#threshold = 10
#relSystematic = 0.1

#[plot:meanTrackPt]
#metric = basic.Mean()
#relativePath = Tracking/TrackParameters/GeneralProperties/GoodTrackPt_ImpactPoint_GenTk

#[plot:meanRecHitPerTrack]
#metric = basic.Mean()
#relativePath = Tracking/TrackParameters/HitProperties/GoodTrackNumberOfRecHitsPerTrack_GenTk

[plot:meanFEDErrors]
metric = basic.Mean()
relativePath = SiStrip/ReadoutView/FedMonitoringSummary/nFEDErrors,SiStrip/ReadoutView/FedMonitoringSummary/FEDLevel/nFEDErrors,SiStrip/ReadoutView/FedSummary/FED/nFEDErrors
runOffset = 132000
threshold = 10
yTitle = FED Errors
#relSystematic = 0.1

#[plot:meanBadActiveChannelStatusBit]
#metric = basic.Mean()
#relativePath = SiStrip/ReadoutView/FedSummary/FED/nFEDErrors,SiStrip/ReadoutView/FedMonitoringSummary/nBadActive,SiStrip/ReadoutView/FedMonitoringSummary/FEDLevel/nFEDErrors

[plot:centralStoN_TIB]
metric = fits.Landau(0, 0., 100., (25.,25.))
#make this a list
relativePath = SiStrip/MechanicalView/TIB/Summary_ClusterStoNCorr_OnTrack__TIB 
runOffset = 132000
threshold = 10
yTitle = S/N (mpv)
relSystematic = 0.01
##relSystematic = 0.1

[plot:centralStoN_TOB]
metric = fits.Landau(0, 10., 100., (25.,25.))
#make this a list
relativePath = SiStrip/MechanicalView/TOB/Summary_ClusterStoNCorr_OnTrack__TOB
runOffset = 132000
threshold = 10
yTitle = S/N (mpv)
relSystematic = 0.01

#[plot:centralStoN_TID1]
#metric = fits.Landau(0, 10., 100., (25.,25.))
#relativePath = SiStrip/MechanicalView/TID/side_1/Summary_ClusterStoNCorr_OnTrack__TID__side__1
#runOffset = 132000
#threshold = 10
#yTitle = S/N (mpv)
#relSystematic = 0.01

#[plot:centralStoN_TID2]
#metric = fits.Landau(0, 10., 100., (25.,25.))
#relativePath = SiStrip/MechanicalView/TID/side_2/Summary_ClusterStoNCorr_OnTrack__TID__side__2
#runOffset = 132000
#threshold = 10
#yTitle = S/N (mpv)
#relSystematic = 0.01

#[plot:centralStoN_TEC1]
#metric = fits.Landau(0, 10., 100., (25.,25.))
#relativePath = SiStrip/MechanicalView/TEC/side_1/Summary_ClusterStoNCorr_OnTrack__TEC__side__1
#runOffset = 132000
#threshold = 10
#yTitle = S/N (mpv)
#relSystematic = 0.01

#[plot:centralStoN_TEC2]
#metric = fits.Landau(0, 10., 100., (25.,25.))
#relativePath = SiStrip/MechanicalView/TEC/side_2/Summary_ClusterStoNCorr_OnTrack__TEC__side__2
#runOffset = 132000
#threshold = 10
#yTitle = S/N (mpv)
#relSystematic = 0.01


#--- new

[plot:meanTrackChisquared]
metric = basic.Mean()
##make this a list
relativePath = Tracking/TrackParameters/GeneralProperties/GoodTrackChi2oNDF_GenTk
runOffset = 132000
threshold = 10
yTitle = chi-squared per ndof
relSystematic = 0.1


[plot:NumberOfMeanLayersPerTrack_GenTk]
metric = basic.Fraction(2,6)
#metric = basic.Mean()
##make this a list
relativePath = Tracking/TrackParameters/GeneralProperties/NumberOfMeanLayersPerTrack_GenTk
runOffset = 132000
threshold = 10
yTitle = Fraction: N=<6 / All 
relSystematic = 0.1

[plot:NumberOfMeanRecHitsPerTrack_GenTk]
metric = basic.Fraction(2,9)
#metric = basic.Mean()
##make this a list
relativePath = Tracking/TrackParameters/GeneralProperties/NumberOfMeanRecHitsPerTrack_GenTk
runOffset = 132000
threshold = 10
yTitle =Fraction: N=<9 / All 
relSystematic = 0.1

#APV shots plots

[plot:Apv_Shots_Charge_Median]
metric = basic.Mean()
relativePath = SiStrip/MechanicalView/Apv_Shots_Charge_Median
runOffset = 132000
threshold = 10
yTitle = Mean_ChargeMedian_Vs_Run 
relSystematic = 0.1

[plot:Mean_NShots_Vs_Run]
metric = basic.Mean()
relativePath = SiStrip/MechanicalView/Number_of_Apv_Shots
runOffset = 132000
threshold = 10
yTitle = Mean_NShots_Vs_Run
relSystematic = 0.1

[plot:Fraction_InSpike_95adc_Vs_Run]
metric = basic.FractionInBin(95)
relativePath = SiStrip/MechanicalView/Apv_Shots_Charge_Median
runOffset = 132000
threshold = 10
yTitle = Fraction_InSpike_95adc_Vs_Run
relSystematic = 0.1

[plot:Fraction_InSpike_159adc_Vs_Run]
metric = basic.FractionInBin(159)
relativePath = SiStrip/MechanicalView/Apv_Shots_Charge_Median
runOffset = 132000
threshold = 10
yTitle = Fraction_InSpike_159adc_Vs_Run
relSystematic = 0.1

[plot:Fraction_InSpike_127adc_Vs_Run]
metric = basic.FractionInBin(127)
relativePath = SiStrip/MechanicalView/Apv_Shots_Charge_Median
runOffset = 132000
threshold = 10
yTitle = Fraction_InSpike_127adc_Vs_Run
relSystematic = 0.1

[plot:Fraction_InSpike_191adc_Vs_Run]
metric = basic.FractionInBin(191)
relativePath = SiStrip/MechanicalView/Apv_Shots_Charge_Median
runOffset = 132000
threshold = 10
yTitle = Fraction_InSpike_191adc_Vs_Run
relSystematic = 0.1

[plot:Fraction_InSpike_223adc_Vs_Run]
metric = basic.FractionInBin(223)
relativePath = SiStrip/MechanicalView/Apv_Shots_Charge_Median
runOffset = 132000
threshold = 10
yTitle = Fraction_InSpike_223adc_Vs_Run
relSystematic = 0.1

[plot:Fraction_InSpike_254adc_Vs_Run]
metric = basic.FractionInBin(254)
relativePath = SiStrip/MechanicalView/Apv_Shots_Charge_Median
runOffset = 132000
threshold = 10
yTitle = Fraction_InSpike_254adc_Vs_Run
relSystematic = 0.1

[plot:Fraction_Shots_MultiplicityGT20_Vs_Run]
metric = basic.Ratio(20,201)
relativePath = SiStrip/MechanicalView/Number_of_Apv_Shots
runOffset = 132000
threshold = 10
yTitle = Fraction_Shots_MultiplicityGT20_Vs_Run
relSystematic = 0.1

[plot:Fraction_AnomalousShots_wrt_NormalShots_Vs_Run]
metric = basic.FractionInBinArray([1,3,5],[2,4,6])
relativePath = SiStrip/MechanicalView/Apv_Shots_Apv_Number
runOffset = 132000
threshold = 10
yTitle = Fraction_AnomalousShots_wrt_NormalShots_Vs_Run
relSystematic = 0.1

# Cluster Multiplicity Plots

[plot:Ratio_In_Regions12_Vs_Run]
metric = basic.FractionInBinArray([2],[1])
relativePath = SiStrip/MechanicalView/ClusterMultiplicityRegions
runOffset = 132000
threshold = 10
yTitle = Ratio
relSystematic = 0.1

[plot:Ratio_In_Regions13_Vs_Run]
metric = basic.FractionInBinArray([3],[1])
relativePath = SiStrip/MechanicalView/ClusterMultiplicityRegions
runOffset = 132000
threshold = 10
yTitle = Ratio
relSystematic = 0.1

[plot:Ratio_In_Regions14_Vs_Run]
metric = basic.FractionInBinArray([4],[1])
relativePath = SiStrip/MechanicalView/ClusterMultiplicityRegions
runOffset = 132000
threshold = 10
yTitle = Ratio
relSystematic = 0.1

[plot:Ratio_In_Regions15_Vs_Run]
metric = basic.FractionInBinArray([5],[1])
relativePath = SiStrip/MechanicalView/ClusterMultiplicityRegions
runOffset = 132000
threshold = 10
yTitle = Ratio
relSystematic = 0.1

[plot:Ratio_In_Regions1tot_Vs_Run]
metric = basic.FractionInBinArray([2,3,4,5],[1])
relativePath = SiStrip/MechanicalView/ClusterMultiplicityRegions
runOffset = 132000
threshold = 10
yTitle = Ratio
relSystematic = 0.1